var F=Object.defineProperty;var f=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var C=(o,t,n)=>t in o?F(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,v=(o,t)=>{for(var n in t||(t={}))L.call(t,n)&&C(o,n,t[n]);if(f)for(var n of f(t))T.call(t,n)&&C(o,n,t[n]);return o};var x=(o,t)=>{var n={};for(var e in o)L.call(o,e)&&t.indexOf(e)<0&&(n[e]=o[e]);if(o!=null&&f)for(var e of f(o))t.indexOf(e)<0&&T.call(o,e)&&(n[e]=o[e]);return n};import{r as _,a as B,w as j,o as M,c as R,b as i,d as u,e as a,f as P,v as U,F as b,g as w,h as m,t as g,i as A,j as O,k as S,l as E,m as H}from"./vendor.d7a5eef1.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function e(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}};I();function W({page:o=1,filters:t={}}={}){const n=new URL("https://techcrunch.com/wp-json/wp/v2/posts");return Object.entries(v({page:o,per_page:10},t)).forEach(([e,r])=>{r!=null&&n.searchParams.append(e,r)}),fetch(n).then(e=>e.json())}function D({page:o=1,filters:t={}}={}){const n=new URL("https://techcrunch.com/wp-json/wp/v2/categories");return fetch(n).then(e=>e.json())}function N({loadItems:o,initialFilters:t}){const n=_(1);let e=_([]);const r=B(v({},t)),l=()=>{const c=new URLSearchParams(window.location.hash.substring(1)),k=Object.fromEntries(c.entries()),{page:h}=k,p=x(k,["page"]);h&&(n.value=+h),Object.entries(p).forEach(([V,$])=>{r[V]=$})},s=()=>{const c=new URLSearchParams;n.value!==1&&c.append("page",`${n.value}`),Object.entries(r).forEach(([h,p])=>{p&&c.append(h,`${p}`)}),window.location.hash=c.toString()},d=()=>o({page:n.value,filters:r}).then(c=>{e.value=c});return j(()=>n.value,()=>{s(),d()}),j(()=>r,()=>{s(),d()},{deep:!0}),d(),window.addEventListener("hashchange",l),M(()=>{window.removeEventListener("hashchange",l)}),{prevPage:()=>{n.value-=1},nextPage:()=>{n.value+=1},page:n,filters:r,items:e}}var y=(o,t)=>{const n=o.__vccOpts||o;for(const[e,r]of t)n[e]=r;return n};const q={setup(){const o=_([]),t=R(()=>[{id:null,name:"(no category)"},...o.value]),n=async()=>{o.value=await D()},{page:e,filters:r,items:l,prevPage:s,nextPage:d}=N({loadItems:W,initialFilters:{categories:null}});return n(),{categories:o,availableCategories:t,loadCategories:n,page:e,filters:r,items:l,prevPage:s,nextPage:d}}},z=m("Category: "),K=["value"],G=a("hr",null,null,-1),J=["disabled"],Q=a("hr",null,null,-1),X=["href","innerHTML"];function Y(o,t,n,e,r,l){return i(),u("div",null,[a("label",null,[z,P(a("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.filters.categories=s)},[(i(!0),u(b,null,w(e.availableCategories,s=>(i(),u("option",{value:s.id},g(s.name),9,K))),256))],512),[[U,e.filters.categories]])]),G,a("div",null,[a("button",{disabled:e.page===1,onClick:t[1]||(t[1]=(...s)=>e.prevPage&&e.prevPage(...s))},"Prev",8,J),m(" "+g(e.page)+" ",1),a("button",{onClick:t[2]||(t[2]=(...s)=>e.nextPage&&e.nextPage(...s))},"Next")]),Q,a("ul",null,[(i(!0),u(b,null,w(e.items,s=>(i(),u("li",null,[a("a",{target:"_blank",href:s.link,innerHTML:s.title.rendered},null,8,X)]))),256))])])}var Z=y(q,[["render",Y]]);function ee({page:o=1,search:t}={}){const n=new URL("https://swapi.dev/api/planets");return Object.entries({page:o,search:t}).forEach(([e,r])=>{r!=null&&n.searchParams.append(e,r)}),fetch(n).then(e=>e.json())}const te={setup(){const{page:o,filters:t,items:n,prevPage:e,nextPage:r}=N({loadItems:ee,initialFilters:{search:null}});return{page:o,filters:t,items:n,prevPage:e,nextPage:r}}},ne=m("Search: "),re=a("hr",null,null,-1),oe=["disabled"],se=a("hr",null,null,-1),ae=["href"];function le(o,t,n,e,r,l){return i(),u("div",null,[a("label",null,[ne,P(a("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.filters.search=s)},null,512),[[A,e.filters.search,void 0,{lazy:!0}]])]),re,a("div",null,[a("button",{disabled:e.page===1,onClick:t[1]||(t[1]=s=>e.page-=1)},"Prev",8,oe),m(" "+g(e.page)+" ",1),a("button",{onClick:t[2]||(t[2]=s=>e.page++)},"Next")]),se,a("ul",null,[(i(!0),u(b,null,w(e.items,s=>(i(),u("li",{key:s},[a("a",{target:"_blank",href:s.link},g(s.name),9,ae)]))),128))])])}var ie=y(te,[["render",le]]);const ce={name:"App",components:{TechCrunch:Z,StarWars:ie},data(){return{selectedTab:"techcrunch"}},watch:{selectedTab(){window.location.hash=""}}},ue={id:"app"},de=a("option",{value:"techcrunch"},"TechCrunch",-1),he=[de],pe=a("hr",null,null,-1);function fe(o,t,n,e,r,l){const s=O("TechCrunch"),d=O("StarWars");return i(),u("div",ue,[P(a("select",{"onUpdate:modelValue":t[0]||(t[0]=c=>r.selectedTab=c)},he,512),[[U,r.selectedTab]]),pe,r.selectedTab==="techcrunch"?(i(),S(s,{key:0})):E("",!0),r.selectedTab==="starwars"?(i(),S(d,{key:1})):E("",!0)])}var ge=y(ce,[["render",fe]]);H(ge).mount("#app");
