var j=Object.defineProperty;var d=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var _=(e,t,s)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,p=(e,t)=>{for(var s in t||(t={}))b.call(t,s)&&_(e,s,t[s]);if(d)for(var s of d(t))w.call(t,s)&&_(e,s,t[s]);return e};var y=(e,t)=>{var s={};for(var r in e)b.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&d)for(var r of d(e))t.indexOf(r)<0&&w.call(e,r)&&(s[r]=e[r]);return s};import{o as l,c,a,w as g,v as L,F as f,r as m,b as h,t as u,d as E,e as $,f as k,g as C,h as O}from"./vendor.d013a3d9.js";const H=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};H();function N({page:e=1,filters:t={}}={}){const s=new URL("https://techcrunch.com/wp-json/wp/v2/posts");return Object.entries(p({page:e,per_page:10},t)).forEach(([r,n])=>{n!=null&&s.searchParams.append(r,n)}),fetch(s).then(r=>r.json())}function U(){const e=new URL("https://techcrunch.com/wp-json/wp/v2/categories");return fetch(e).then(t=>t.json())}const T={data(){return{items:[],page:1,filters:{}}},methods:{loadItems(){throw new Error("not implemented")},syncHash(){const e=new URLSearchParams(window.location.hash.substring(1)),r=Object.fromEntries(e.entries()),{page:t}=r,s=y(r,["page"]);t&&(this.page=+t),Object.entries(s).forEach(([n,i])=>{this[n]=i})},updateHash(){const e=new URLSearchParams;this.page!==1&&e.append("page",this.page),Object.entries(this.filters).forEach(([t,s])=>{s&&e.append(t,s)}),window.location.hash=e.toString()}},created(){window.addEventListener("hashchange",this.syncHash),this.syncHash(),this.loadItems()},beforeDestroyed(){window.removeEventListener("hashchange",this.syncHash)},watch:{page(){this.loadItems(),this.updateHash()},filters:{deep:!0,handler(){this.page=1,this.loadItems(),this.updateHash()}}}};var v=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s};const I={mixins:[T],data(){return{categories:[]}},computed:{availableCategories(){return[{id:null,name:"(no category)"},...this.categories]}},methods:{async loadCategories(){this.categories=await U()},async loadItems(){this.items=await N({page:this.page,filters:this.filters})}},created(){this.loadCategories()}},M=h("Category: "),V=["value"],R=a("hr",null,null,-1),A=["disabled"],B=a("hr",null,null,-1),W=["href","innerHTML"];function D(e,t,s,r,n,i){return l(),c("div",null,[a("label",null,[M,g(a("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.filters.categories=o)},[(l(!0),c(f,null,m(i.availableCategories,o=>(l(),c("option",{key:o.id,value:o.id},u(o.name),9,V))),128))],512),[[L,e.filters.categories]])]),R,a("div",null,[a("button",{disabled:e.page===1,onClick:t[1]||(t[1]=o=>e.page-=1)},"Prev",8,A),h(" "+u(e.page)+" ",1),a("button",{onClick:t[2]||(t[2]=o=>e.page++)},"Next")]),B,a("ul",null,[(l(!0),c(f,null,m(e.items,o=>(l(),c("li",{key:o},[a("a",{target:"_blank",href:o.link,innerHTML:o.title.rendered},null,8,W)]))),128))])])}var F=v(I,[["render",D]]);function q({page:e=1,search:t}={}){const s=new URL("https://swapi.dev/api/planets");return Object.entries({page:e,search:t}).forEach(([r,n])=>{n!=null&&s.searchParams.append(r,n)}),fetch(s).then(r=>r.json())}const z={mixins:[T],data(){return{items:[]}},methods:{async loadItems(){const{results:e}=await q(p({page:this.page},this.filters));this.items=e}}},K=h("Search: "),G=a("hr",null,null,-1),J=["disabled"],Q=a("hr",null,null,-1),X=["href"];function Y(e,t,s,r,n,i){return l(),c("div",null,[a("label",null,[K,g(a("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.filters.search=o)},null,512),[[E,e.filters.search,void 0,{lazy:!0}]])]),G,a("div",null,[a("button",{disabled:e.page===1,onClick:t[1]||(t[1]=o=>e.page-=1)},"Prev",8,J),h(" "+u(e.page)+" ",1),a("button",{onClick:t[2]||(t[2]=o=>e.page++)},"Next")]),Q,a("ul",null,[(l(!0),c(f,null,m(n.items,o=>(l(),c("li",{key:o},[a("a",{target:"_blank",href:o.link},u(o.name),9,X)]))),128))])])}var Z=v(z,[["render",Y]]);const x={name:"App",components:{TechCrunch:F,StarWars:Z},data(){return{selectedTab:"techcrunch"}},watch:{selectedTab(){window.location.hash=""}}},ee={id:"app"},te=a("option",{value:"techcrunch"},"TechCrunch",-1),se=a("option",{value:"starwars"},"StarWars",-1),ne=[te,se],re=a("hr",null,null,-1);function oe(e,t,s,r,n,i){const o=$("TechCrunch"),P=$("StarWars");return l(),c("div",ee,[g(a("select",{"onUpdate:modelValue":t[0]||(t[0]=S=>n.selectedTab=S)},ne,512),[[L,n.selectedTab]]),re,n.selectedTab==="techcrunch"?(l(),k(o,{key:0})):C("",!0),n.selectedTab==="starwars"?(l(),k(P,{key:1})):C("",!0)])}var ae=v(x,[["render",oe]]);O(ae).mount("#app");
